继承spring的AbstractRoutingDataSource实现了自己的DynamicDataSource，覆盖determineCurrentLookupKey()方法，把逻辑改成从ThreadLocal获取当前使用的datasource名字。

继承spring的TransactionInterceptor实现了自己的LvmamaSoaTransactionInterceptor，这里判断是否有@ReadOnlyDataSource以及上下文中数据库的修改时间来决定是否把ThreadLocal中的datasource名字改成只读数据源的。